(function(e){function t(t){for(var n,c,r=t[0],l=t[1],s=t[2],u=0,d=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);b&&b(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,c=1;c<i.length;c++){var r=i[c];0!==a[r]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=i[0]))}return e}var n={},c={app:0},a={app:0},o=[];function r(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-c27ed67c":"2e4af68c"}[e]+".js"}function l(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.e=function(e){var t=[],i={"chunk-c27ed67c":1};c[e]?t.push(c[e]):0!==c[e]&&i[e]&&t.push(c[e]=new Promise((function(t,i){for(var n="css/"+({}[e]||e)+"."+{"chunk-c27ed67c":"d7ab0fc0"}[e]+".css",a=l.p+n,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var s=o[r],u=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(u===n||u===a))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){s=d[r],u=s.getAttribute("data-href");if(u===n||u===a)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var n=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete c[e],b.parentNode.removeChild(b),i(o)},b.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(b)})).then((function(){c[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,i){n=a[e]=[t,i]}));t.push(n[2]=o);var s,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=r(e);var d=new Error;s=function(t){u.onerror=u.onload=null,clearTimeout(b);var i=a[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+c+")",d.name="ChunkLoadError",d.type=n,d.request=c,i[1](d)}a[e]=void 0}};var b=setTimeout((function(){s({type:"timeout",target:u})}),12e4);u.onerror=u.onload=s,document.head.appendChild(u)}return Promise.all(t)},l.m=e,l.c=n,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(i,n,function(t){return e[t]}.bind(null,n));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/",l.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var b=u;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},3568:function(e,t,i){"use strict";i("607e")},"3e21":function(e,t,i){},"451e":function(e,t,i){},5449:function(e,t,i){"use strict";i("98fe")},"56d7":function(e,t,i){"use strict";i.r(t);i("d3b7"),i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("7a23");function c(e,t,i,c,a,o){var r=Object(n["A"])("the-header"),l=Object(n["A"])("router-view");return Object(n["s"])(),Object(n["f"])("div",null,[Object(n["i"])(r),Object(n["i"])(l)])}var a=Object(n["J"])("data-v-84629708");Object(n["v"])("data-v-84629708");var o=Object(n["h"])("All items"),r=Object(n["h"])("Post item");Object(n["t"])();var l=a((function(e,t,i,c,l,s){var u=Object(n["A"])("router-link");return Object(n["s"])(),Object(n["f"])("header",null,[Object(n["i"])("nav",null,[Object(n["i"])("ul",null,[Object(n["i"])("li",null,[Object(n["i"])(u,{to:"/"},{default:a((function(){return[o]})),_:1})]),Object(n["i"])("li",null,[Object(n["i"])(u,{to:"/postitem"},{default:a((function(){return[r]})),_:1})])])])])})),s={};i("3568");s.render=l,s.__scopeId="data-v-84629708";var u=s,d={name:"App",components:{TheHeader:u},setup:function(){}};i("64be");d.render=c;var b=d,m=i("6c02"),f=(i("a4d3"),i("e01a"),i("b0c0"),Object(n["J"])("data-v-6ebda340"));Object(n["v"])("data-v-6ebda340");var j=Object(n["i"])("section",null,"Filter",-1),O={class:"controls"},p=Object(n["h"])("Refresh"),v=Object(n["h"])("Register as user"),g={key:0},h={key:1};Object(n["t"])();var y=f((function(e,t,i,c,a,o){var r=Object(n["A"])("base-button"),l=Object(n["A"])("product-item"),s=Object(n["A"])("base-card");return Object(n["s"])(),Object(n["f"])("div",null,[j,Object(n["i"])("section",null,[Object(n["i"])(s,null,{default:f((function(){return[Object(n["i"])("div",O,[Object(n["i"])(r,{mode:"outline",onClick:Object(n["I"])(c.refreshItems,["prevent"])},{default:f((function(){return[p]})),_:1},8,["onClick"]),Object(n["i"])(r,{link:"",to:"/"},{default:f((function(){return[v]})),_:1})]),c.hasItems?(Object(n["s"])(),Object(n["f"])("ul",g,[(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(c.allItems,(function(e){return Object(n["s"])(),Object(n["f"])(l,{key:e.id,id:e.id,name:e.name,size:e.size,color:e.color,location:e.location,price:e.price,description:e.description,filePath:e.filePath},null,8,["id","name","size","color","location","price","description","filePath"])})),128))])):(Object(n["s"])(),Object(n["f"])("h3",h,"No items found"))]})),_:1})])])})),I=i("5502"),V=Object(n["J"])("data-v-c8413650");Object(n["v"])("data-v-c8413650");var k={class:"text-center"},L={class:"container"},P={class:"row justify-content-md-center"},_={class:"col-md-auto"},w={key:0,class:"col"},C=Object(n["i"])("img",{src:"images\\arrow-left.png",alt:"left",width:"40",height:"35"},null,-1),S=Object(n["i"])("img",{src:"images\\arrow-right.png",alt:"right",width:"40",height:"35"},null,-1),x=Object(n["h"])("View details");Object(n["t"])();var z=V((function(e,t,i,c,a,o){var r=Object(n["A"])("base-button");return Object(n["s"])(),Object(n["f"])("div",null,[Object(n["i"])("li",null,[Object(n["i"])("div",k,[Object(n["i"])("h3",null,Object(n["C"])(i.name),1),Object(n["i"])("div",L,[Object(n["i"])("div",P,[Object(n["i"])("div",_,[Object(n["i"])("img",{src:c.setSelectedImage(c.selectedIndex),width:"300",height:"375"},null,8,["src"])])]),c.imageList.length>1?(Object(n["s"])(),Object(n["f"])("div",w,[Object(n["i"])("button",{onClick:t[1]||(t[1]=function(){return c.choosePrevImage.apply(c,arguments)})},[C]),Object(n["i"])("button",{onClick:t[2]||(t[2]=function(){return c.chooseNextImage.apply(c,arguments)})},[S])])):Object(n["g"])("",!0)]),Object(n["i"])("p",null,"Color: "+Object(n["C"])(i.color),1),Object(n["i"])("p",null,"Size: "+Object(n["C"])(i.size),1),Object(n["i"])("p",null,"Location: "+Object(n["C"])(i.location),1),Object(n["i"])("h4",null,"Price: "+Object(n["C"])(i.price)+" kr",1),Object(n["i"])("p",null," Description: "+Object(n["C"])(i.description),1),Object(n["i"])("div",null,[Object(n["i"])(r,{mode:"outline"},{default:V((function(){return[x]})),_:1})])])])])})),A=(i("ac1f"),i("1276"),{props:["id","name","color","size","price","location","description","filePath"],setup:function(e){var t=e.filePath.split(",");console.log(t);var i=Object(n["x"])(t);console.log(i.value.length);var c=Object(n["x"])(0),a=Object(n["x"])("");function o(){0!=c.value&&(c.value--,console.log("Previous image chosen! Index: "+c.value))}function r(){c.value!=i.value.length-1&&(c.value++,console.log("Next image chosen! Index: "+c.value))}function l(e){return console.log("Selected image file "+i.value[e]),i.value[e]}return{imageList:i,img_src:a,selectedIndex:c,choosePrevImage:o,chooseNextImage:r,setSelectedImage:l}}});i("c506");A.render=z,A.__scopeId="data-v-c8413650";var D=A,N={components:{ProductItem:D},setup:function(){var e=Object(I["b"])();e.dispatch("items/getItems");var t=Object(n["d"])((function(){return e.getters["items/items"]})),i=Object(n["d"])((function(){return e.getters["items/hasItems"]}));function c(){return e.dispatch("items/getItems")&&console.log("All new items gotten")}return{allItems:t,hasItems:i,refreshItems:c}}};i("a4b7");N.render=y,N.__scopeId="data-v-6ebda340";var U=N,F=Object(n["J"])("data-v-bb982596");Object(n["v"])("data-v-bb982596");var R=Object(n["i"])("h3",{class:"center"},"Post an item!",-1);Object(n["t"])();var E=F((function(e,t,i,c,a,o){var r=Object(n["A"])("item-form"),l=Object(n["A"])("base-card");return Object(n["s"])(),Object(n["f"])("section",null,[Object(n["i"])(l,null,{default:F((function(){return[R,Object(n["i"])(r)]})),_:1})])})),J=Object(n["J"])("data-v-67fbbccc");Object(n["v"])("data-v-67fbbccc");var B=Object(n["i"])("label",{for:"itemname"},"Item name",-1),T={key:0},H=Object(n["i"])("label",{for:"itemcolor"},"Color",-1),q={key:0},M=Object(n["i"])("label",{for:"itemsize"},"Size",-1),$={key:0},G=Object(n["i"])("label",{for:"itemlocation"},"Location",-1),K={key:0},Q=Object(n["i"])("label",{for:"itemprice"},"Price (NOK)",-1),W={key:0},X=Object(n["i"])("label",{for:"itemdescription"},"Description (additional info)",-1),Y={key:0},Z={key:0},ee=Object(n["h"])("Register item");Object(n["t"])();var te=J((function(e,t,i,c,a,o){var r=Object(n["A"])("file-reader"),l=Object(n["A"])("base-button");return Object(n["s"])(),Object(n["f"])("div",null,[Object(n["i"])("section",null,[Object(n["i"])(r)]),Object(n["i"])("section",null,[Object(n["i"])("form",{onSubmit:t[13]||(t[13]=Object(n["I"])((function(){return c.submitForm.apply(c,arguments)}),["prevent"]))},[Object(n["i"])("div",{class:["form-group",{invalid:!c.state.itemName.isValid}]},[B,Object(n["H"])(Object(n["i"])("input",{type:"text",class:"form-control",id:"itemname","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.state.itemName.val=e}),onBlur:t[2]||(t[2]=function(e){return c.clearValidity("itemName")})},null,544),[[n["E"],c.state.itemName.val,void 0,{trim:!0}]]),c.state.itemName.isValid?Object(n["g"])("",!0):(Object(n["s"])(),Object(n["f"])("p",T,"Item name must not be empty"))],2),Object(n["i"])("div",{class:["form-group",{invalid:!c.state.itemColor.isValid}]},[H,Object(n["H"])(Object(n["i"])("input",{type:"text",class:"form-control",id:"itemcolor","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.state.itemColor.val=e}),onBlur:t[4]||(t[4]=function(e){return c.clearValidity("itemColor")})},null,544),[[n["E"],c.state.itemColor.val,void 0,{trim:!0}]]),c.state.itemColor.isValid?Object(n["g"])("",!0):(Object(n["s"])(),Object(n["f"])("p",q,"Item color must not be empty"))],2),Object(n["i"])("div",{class:["form-group",{invalid:!c.state.itemSize.isValid}]},[M,Object(n["H"])(Object(n["i"])("input",{type:"text",class:"form-control",id:"itemsize","onUpdate:modelValue":t[5]||(t[5]=function(e){return c.state.itemSize.val=e}),onBlur:t[6]||(t[6]=function(e){return c.clearValidity("itemSize")})},null,544),[[n["E"],c.state.itemSize.val,void 0,{trim:!0}]]),c.state.itemSize.isValid?Object(n["g"])("",!0):(Object(n["s"])(),Object(n["f"])("p",$,"Item size must not be empty"))],2),Object(n["i"])("div",{class:["form-group",{invalid:!c.state.itemLocation.isValid}]},[G,Object(n["H"])(Object(n["i"])("input",{type:"text",class:"form-control",id:"itemlocation","onUpdate:modelValue":t[7]||(t[7]=function(e){return c.state.itemLocation.val=e}),onBlur:t[8]||(t[8]=function(e){return c.clearValidity("itemLocation")})},null,544),[[n["E"],c.state.itemLocation.val,void 0,{trim:!0}]]),c.state.itemLocation.isValid?Object(n["g"])("",!0):(Object(n["s"])(),Object(n["f"])("p",K," Item location must not be empty "))],2),Object(n["i"])("div",{class:["form-group",{invalid:!c.state.itemPrice.isValid}]},[Q,Object(n["H"])(Object(n["i"])("input",{type:"number",class:"form-control",id:"itemprice","onUpdate:modelValue":t[9]||(t[9]=function(e){return c.state.itemPrice.val=e}),onBlur:t[10]||(t[10]=function(e){return c.clearValidity("itemPrice")})},null,544),[[n["E"],c.state.itemPrice.val,void 0,{trim:!0}]]),c.state.itemPrice.isValid?Object(n["g"])("",!0):(Object(n["s"])(),Object(n["f"])("p",W,"Item price must not be empty"))],2),Object(n["i"])("div",{class:["form-group",{invalid:!c.state.itemDescription.isValid}]},[X,Object(n["H"])(Object(n["i"])("textarea",{placeholder:"New? Used? If so, then how long?",class:"form-control",id:"itemdescription",rows:"5","onUpdate:modelValue":t[11]||(t[11]=function(e){return c.state.itemDescription.val=e}),onBlur:t[12]||(t[12]=function(e){return c.clearValidity("itemDescription")})},null,544),[[n["E"],c.state.itemDescription.val,void 0,{trim:!0}]]),c.state.itemDescription.isValid?Object(n["g"])("",!0):(Object(n["s"])(),Object(n["f"])("p",Y," Item description must not be empty "))],2),c.state.formIsValid?Object(n["g"])("",!0):(Object(n["s"])(),Object(n["f"])("p",Z,"Please fix the errors above")),Object(n["i"])(l,null,{default:J((function(){return[ee]})),_:1})],32)])])})),ie=Object(n["J"])("data-v-0db70b98");Object(n["v"])("data-v-0db70b98");var ne=Object(n["i"])("label",{for:"files"},"Select multiple files",-1),ce={key:0},ae={key:1};Object(n["t"])();var oe=ie((function(e,t,i,c,a,o){return Object(n["s"])(),Object(n["f"])("section",null,[ne,Object(n["i"])("input",{type:"file",id:"files",accept:"image/jpg, image/jpeg, image/x-png",onChange:t[1]||(t[1]=function(){return c.setDataURL.apply(c,arguments)}),multiple:""},null,32),c.imageList.length>0?(Object(n["s"])(),Object(n["f"])("ul",ce,[(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(c.imageList,(function(e,t){return Object(n["s"])(),Object(n["f"])("li",{key:t},[Object(n["i"])("img",{class:"imagePreview",id:"imgs",src:e,onLoad:function(e){return c.revokeDataURL(t)}},null,40,["src","onLoad"])])})),128))])):(Object(n["s"])(),Object(n["f"])("p",ae,"No images selected"))])}));i("3ca3"),i("ddb0"),i("2b3d");function re(){var e=Object(I["b"])(),t=Object(n["x"])([]);function i(i){var n=[];t.value=[];var c=i.target.files;if(c&&window.File&&window.FileList&&window.FileReader)for(var a=0;a<c.length;a++){var o=c[a];n.push(o),t.value.push(URL.createObjectURL(o))}console.log(n),e.dispatch("items/setFiles",n)}function c(e){URL.revokeObjectURL(t.value[e])}return{imageList:t,setDataURL:i,revokeDataURL:c}}var le={setup:function(){var e=re(),t=e.imageList,i=e.setDataURL,n=e.revokeDataURL;return{imageList:t,setDataURL:i,revokeDataURL:n}}};i("5b26");le.render=oe,le.__scopeId="data-v-0db70b98";var se=le,ue={components:{FileReader:se},setup:function(){var e=Object(I["b"])(),t=Object(n["x"])([]),i=Object(n["w"])({Id:0,itemName:{val:"",isValid:!0},itemColor:{val:"",isValid:!0},itemSize:{val:"",isValid:!0},itemLocation:{val:"",isValid:!0},itemPrice:{val:"",isValid:!0},itemDescription:{val:"",isValid:!0},filePath:"",formIsValid:!0});function c(e){return i[e].isValid=!0}function a(){i.formIsValid=!0,""===i.itemName.val&&(i.itemName.isValid=!1,i.formIsValid=!1),""===i.itemColor.val&&(i.itemColor.isValid=!1,i.formIsValid=!1),""===i.itemSize.val&&(i.itemSize.isValid=!1,i.formIsValid=!1),""===i.itemLocation.val&&(i.itemLocation.isValid=!1,i.formIsValid=!1),(!i.itemPrice.val||i.itemPrice.val<0)&&(i.itemPrice.isValid=!1,i.formIsValid=!1),""===i.itemDescription.val&&(i.itemDescription.isValid=!1,i.formIsValid=!1)}function o(){var i=Object(n["d"])((function(){return e.getters["items/files"]}));t.value=i.value}function r(){if(this.validateForm(),i.formIsValid){o();for(var n=new FormData,c=t.value,a=0;a<c.length;a++){var r=c[a];console.log(r),n.append("files",r)}n.append("name",i.itemName.val),n.append("color",i.itemColor.val),n.append("size",i.itemSize.val),n.append("location",i.itemLocation.val),n.append("price",i.itemPrice.val),n.append("description",i.itemDescription.val),e.dispatch("items/postItem",n),console.log("Form has been submitted")}}return{state:i,images:t,clearValidity:c,validateForm:a,submitForm:r}}};i("5449");ue.render=te,ue.__scopeId="data-v-67fbbccc";var de=ue,be={components:{ItemForm:de}};i("a920");be.render=E,be.__scopeId="data-v-bb982596";var me=be,fe=Object(n["i"])("h2",null,"Page not found",-1),je=Object(n["h"])("This page could not be found, maybe check out "),Oe=Object(n["h"])("items");function pe(e,t,i,c,a,o){var r=Object(n["A"])("router-link"),l=Object(n["A"])("base-card");return Object(n["s"])(),Object(n["f"])("section",null,[Object(n["i"])(l,null,{default:Object(n["G"])((function(){return[fe,Object(n["i"])("p",null,[je,Object(n["i"])(r,{to:"/"},{default:Object(n["G"])((function(){return[Oe]})),_:1})])]})),_:1})])}const ve={};ve.render=pe;var ge=ve,he=Object(m["a"])({history:Object(m["b"])(),routes:[{path:"/",component:U},{path:"/postitem",component:me},{path:"/:notFound(.*)",component:ge}]}),ye=he,Ie={setItems:function(e,t){e.items=t},addItem:function(e,t){e.items.push(t)},setFiles:function(e,t){e.item.files=t}},Ve=i("bc3a"),ke=i.n(Ve),Le={getItems:function(e){try{ke.a.get("api/server/items").then((function(t){e.commit("setItems",t.data.reverse()),console.log("Response: "+JSON.stringify(t.data))}))}catch(t){console.log(t)}},postItem:function(e,t){try{ke.a.post("api/server/items",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.commit("addItem",t.data),console.log("Item successfully posted to database")}))}catch(i){console.log(i)}},setFiles:function(e,t){try{e.commit("setFiles",t)}catch(i){console.log(i)}}},Pe={items:function(e){return e.items},hasItems:function(e){return e.items&&e.items.length>0},files:function(e){return e.item.files}},_e={namespaced:!0,state:function(){return{items:[],item:{id:0,name:"",color:"",size:"",location:"",price:0,description:"",filePath:"",files:[]}}},mutations:Ie,actions:Le,getters:Pe},we=Object(I["a"])({modules:{items:_e}}),Ce=we,Se=Object(n["J"])("data-v-18915a19");Object(n["v"])("data-v-18915a19");var xe={class:"card"};Object(n["t"])();var ze=Se((function(e,t,i,c,a,o){return Object(n["s"])(),Object(n["f"])("div",xe,[Object(n["z"])(e.$slots,"default")])}));i("fc36");const Ae={};Ae.render=ze,Ae.__scopeId="data-v-18915a19";var De=Ae,Ne=(i("9911"),Object(n["J"])("data-v-a85a417c")),Ue=Ne((function(e,t,i,c,a,o){var r=Object(n["A"])("router-link");return i.link?(Object(n["s"])(),Object(n["f"])(r,{key:1,to:i.to,class:i.mode},{default:Ne((function(){return[Object(n["z"])(e.$slots,"default")]})),_:3},8,["to","class"])):(Object(n["s"])(),Object(n["f"])("button",{key:0,class:i.mode},[Object(n["z"])(e.$slots,"default")],2))})),Fe={props:{mode:{type:String,required:!1,default:null},link:{type:Boolean,required:!1,default:!1},to:{type:String,required:!1,default:"/"}}};i("eced");Fe.render=Ue,Fe.__scopeId="data-v-a85a417c";var Re=Fe,Ee=Object(n["j"])((function(){return i.e("chunk-c27ed67c").then(i.bind(null,"ae92"))})),Je=Object(n["e"])(b);Je.use(ye),Je.use(Ce),Je.component("base-card",De),Je.component("base-button",Re),Je.component("base-dialog",Ee),Je.mount("#app")},"5b26":function(e,t,i){"use strict";i("ebb7")},"607e":function(e,t,i){},"64be":function(e,t,i){"use strict";i("c894")},"7cec":function(e,t,i){},8069:function(e,t,i){},"98fe":function(e,t,i){},a4b7:function(e,t,i){"use strict";i("e3ab")},a920:function(e,t,i){"use strict";i("8069")},c506:function(e,t,i){"use strict";i("451e")},c894:function(e,t,i){},e3ab:function(e,t,i){},ebb7:function(e,t,i){},eced:function(e,t,i){"use strict";i("7cec")},fc36:function(e,t,i){"use strict";i("3e21")}});
//# sourceMappingURL=app.841b1e6d.js.map